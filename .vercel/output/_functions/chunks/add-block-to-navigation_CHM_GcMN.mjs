import { c as createComponent, r as renderTemplate, m as maybeRenderHead, u as unescapeHTML } from './astro/server_BPQAMZWl.mjs';
import 'kleur/colors';
import 'clsx';

const html = "<p><code>Note</code>: To follow along this you already know how to create a plugin custom block in WordPress 6.6. If you don’t, you can check out the <a href=\"https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/\">official documentation</a>.</p>\n<p>If you want to jump straight to the main point, see the 3 step <a href=\"#3-add-the-block-to-the-navigation-block\">index.js</a> file.</p>\n<h2 id=\"introduction\">Introduction</h2>\n<p>By default in WordPress, you can’t add a custom block within the core navigation block. Here I’ll show you the key steps to add add your block within the core navigation block. Bear in mind that this is a simplified version of the process, we are not going to going to create a whole block from scratch, but rather add a custom block to the navigation block.</p>\n<h2 id=\"block-structure\">Block structure:</h2>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"md\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">wp-content/</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">└── plugins/</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    └── my-plugin/</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        ├── my-plugin.php</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        └── block-example/</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            ├── block.json</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            ├── edit.js</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            ├── editor.scss</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            ├── index.js</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            ├── render.php</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            ├── script.js</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            ├── style.scss</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            └── view.js</span></span>\n<span class=\"line\"></span></code></pre>\n<h2 id=\"1-configure-blockjson\">1. Configure block.json</h2>\n<p><code>block.json</code>:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">{</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">\t\"name\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"my-plugin/block-example\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">\t\"version\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"0.1.0\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">\t\"title\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"Example Block\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">\t\"category\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"design\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">\t\"textdomain\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"my-plugin\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">\t\"description\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"Add the Example Block within the navbar\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">\t\"parent\"</span><span style=\"color:#E1E4E8\">: [ </span><span style=\"color:#9ECBFF\">\"core/navigation\"</span><span style=\"color:#E1E4E8\"> ], </span><span style=\"color:#FDAEB7;font-style:italic\">&#x3C;-</span><span style=\"color:#FDAEB7;font-style:italic\"> Don't</span><span style=\"color:#FDAEB7;font-style:italic\"> forget</span><span style=\"color:#FDAEB7;font-style:italic\"> this</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">\t\"attributes\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">\t\t\"blockId\"</span><span style=\"color:#E1E4E8\">: {</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">\t\t\t\"type\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"string\"</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">\t\t\t\"default\"</span><span style=\"color:#E1E4E8\">: </span><span style=\"color:#9ECBFF\">\"\"</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">\t\t}</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">\t},</span></span>\n<span class=\"line\"><span style=\"color:#FDAEB7;font-style:italic\">...Everything</span><span style=\"color:#FDAEB7;font-style:italic\"> else</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<h2 id=\"2-register-your-block\">2. Register your block</h2>\n<p><code>my-plugin.php</code>:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"php\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">&#x3C;?</span><span style=\"color:#79B8FF\">php</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">/**</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * Plugin Name:       My Plugin</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * Description:       An exploratory My Plugin</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * Requires at least: 6.5</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * Requires PHP:      7.0</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * Version:           0.1.0</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * Author:            Raul Cano</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * License:           GPL-2.0-or-later</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * License URI:       https://www.gnu.org/licenses/gpl-2.0.html</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * Text Domain:       my-plugin</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> *</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * </span><span style=\"color:#F97583\">@package</span><span style=\"color:#6A737D\">           my-plugin-block</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> */</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6A737D\">/**</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * Registers the block using the metadata loaded from the `block.json` file.</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * Behind the scenes, it registers also all assets so they can be enqueued</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * through the block editor in the corresponding context.</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> *</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * </span><span style=\"color:#F97583\">@see</span><span style=\"color:#6A737D\"> https://developer.wordpress.org/reference/functions/register_block_type/</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> */</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">function</span><span style=\"color:#B392F0\"> my_plugin_block_example_init</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">\tregister_block_type</span><span style=\"color:#E1E4E8\">( </span><span style=\"color:#79B8FF\">__DIR__</span><span style=\"color:#F97583\"> .</span><span style=\"color:#9ECBFF\"> '/build'</span><span style=\"color:#E1E4E8\"> );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">add_action</span><span style=\"color:#E1E4E8\">( </span><span style=\"color:#9ECBFF\">'init'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#9ECBFF\">'my_plugin_block_example_init'</span><span style=\"color:#E1E4E8\"> );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span></code></pre>\n<h2 id=\"3-add-the-block-to-the-navigation-block\">3. Add the block to the Navigation block</h2>\n<p><code>index.js</code>:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"js\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> { registerBlockType } </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> '@wordpress/blocks'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#9ECBFF\"> './style.scss'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#9ECBFF\"> './editor.scss'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> Edit </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './edit'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">import</span><span style=\"color:#E1E4E8\"> metadata </span><span style=\"color:#F97583\">from</span><span style=\"color:#9ECBFF\"> './block.json'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#B392F0\">registerBlockType</span><span style=\"color:#E1E4E8\">(metadata.name, {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">\tedit: Edit,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">\ticon: </span><span style=\"color:#9ECBFF\">'admin-site'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">});</span></span>\n<span class=\"line\"></span></code></pre>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"js\"><code><span class=\"line\"><span style=\"color:#6A737D\">/**</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * Make the Example Block available to Navigation blocks.</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> *</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * </span><span style=\"color:#F97583\">@since</span><span style=\"color:#6A737D\"> 0.1.0</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> *</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * </span><span style=\"color:#F97583\">@param</span><span style=\"color:#B392F0\"> {Object}</span><span style=\"color:#E1E4E8\"> blockSettings</span><span style=\"color:#6A737D\"> The original settings of the block.</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * </span><span style=\"color:#F97583\">@param</span><span style=\"color:#B392F0\"> {string}</span><span style=\"color:#E1E4E8\"> blockName</span><span style=\"color:#6A737D\">     The name of the block being modified.</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> * </span><span style=\"color:#F97583\">@return</span><span style=\"color:#B392F0\"> {Object}</span><span style=\"color:#6A737D\"> The modified settings for the Navigation block or the original settings for other blocks.</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\"> */</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">const</span><span style=\"color:#B392F0\"> addToNavigation</span><span style=\"color:#F97583\"> =</span><span style=\"color:#E1E4E8\"> ( </span><span style=\"color:#FFAB70\">blockSettings</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#FFAB70\">blockName</span><span style=\"color:#E1E4E8\"> ) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">\tif</span><span style=\"color:#E1E4E8\"> ( blockName </span><span style=\"color:#F97583\">===</span><span style=\"color:#9ECBFF\"> 'core/navigation'</span><span style=\"color:#E1E4E8\"> ) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">\t\treturn</span><span style=\"color:#E1E4E8\"> {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">\t\t\t...</span><span style=\"color:#E1E4E8\">blockSettings,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">\t\t\tallowedBlocks: [</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">\t\t\t\t...</span><span style=\"color:#E1E4E8\">( blockSettings.allowedBlocks </span><span style=\"color:#F97583\">??</span><span style=\"color:#E1E4E8\"> [] ),</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">\t\t\t\t'my-plugin/block-example'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#6A737D\">// Change this to the actual block name in block.json</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">\t\t\t],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">\t\t};</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">\t}</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">\treturn</span><span style=\"color:#E1E4E8\"> blockSettings;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">};</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">addFilter</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">\t'blocks.registerBlockType'</span><span style=\"color:#E1E4E8\">,</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">\t'my-plugin-block-example-add-to-navigation'</span><span style=\"color:#E1E4E8\">, </span><span style=\"color:#6A737D\">// Change this to a unique name for your filter.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">\taddToNavigation</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span></code></pre>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>The main file that allows us to insert a custom block inside the navigation block is <code>index.js</code>. This file is responsible for registering the block and adding the block to the navigation block. The <code>block.json</code> file is also important because it defines the block’s metadata, including the parent block. Finally, the <code>my-plugin.php</code> file registers the block and its assets.</p>";

				const frontmatter = {"title":"Add a Custom Block Within the Core Navigation Block in WordPress","summary":"Step-by-step guide to add a custom block within the core navigation block in WordPress.","pubDate":"2024-08-12T00:00:00.000Z","emoji":"💻","author":"Raul Cano","linkAuthor":"https://x.com/raulcanodev","image":"/thumbnails/wordpress.webp","tags":[""],"slug":"add-block-to-navigation","category":"WordPress"};
				const file = "/Users/rawraul/Dev/raul-cano/portfolio-2024/src/content/blog/add-block-to-navigation.md";
				const url = undefined;
				function rawContent() {
					return "\r\n`Note`: To follow along this you already know how to create a plugin custom block in WordPress 6.6. If you don't, you can check out the [official documentation](https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/).\r\n\r\nIf you want to jump straight to the main point, see the 3 step [index.js](#3-add-the-block-to-the-navigation-block) file.\r\n\r\n## Introduction\r\nBy default in WordPress, you can't add a custom block within the core navigation block. Here I'll show you the key steps to add add your block within the core navigation block. Bear in mind that this is a simplified version of the process, we are not going to going to create a whole block from scratch, but rather add a custom block to the navigation block.\r\n\r\n\r\n## Block structure:\r\n```md\r\nwp-content/\r\n└── plugins/\r\n    └── my-plugin/\r\n        ├── my-plugin.php\r\n        └── block-example/\r\n            ├── block.json\r\n            ├── edit.js\r\n            ├── editor.scss\r\n            ├── index.js\r\n            ├── render.php\r\n            ├── script.js\r\n            ├── style.scss\r\n            └── view.js\r\n```\r\n\r\n## 1. Configure block.json\r\n`block.json`:\r\n```json\r\n{\r\n\t\"name\": \"my-plugin/block-example\",\r\n\t\"version\": \"0.1.0\",\r\n\t\"title\": \"Example Block\",\r\n\t\"category\": \"design\",\r\n\t\"textdomain\": \"my-plugin\",\r\n\t\"description\": \"Add the Example Block within the navbar\",\r\n\t\"parent\": [ \"core/navigation\" ], <- Don't forget this\r\n\t\"attributes\": {\r\n\t\t\"blockId\": {\r\n\t\t\t\"type\": \"string\",\r\n\t\t\t\"default\": \"\"\r\n\t\t}\r\n\t},\r\n...Everything else\r\n}\r\n```\r\n\r\n## 2. Register your block\r\n`my-plugin.php`:\r\n\r\n```php\r\n\r\n<?php\r\n/**\r\n * Plugin Name:       My Plugin\r\n * Description:       An exploratory My Plugin\r\n * Requires at least: 6.5\r\n * Requires PHP:      7.0\r\n * Version:           0.1.0\r\n * Author:            Raul Cano\r\n * License:           GPL-2.0-or-later\r\n * License URI:       https://www.gnu.org/licenses/gpl-2.0.html\r\n * Text Domain:       my-plugin\r\n *\r\n * @package           my-plugin-block\r\n */\r\n\r\n/**\r\n * Registers the block using the metadata loaded from the `block.json` file.\r\n * Behind the scenes, it registers also all assets so they can be enqueued\r\n * through the block editor in the corresponding context.\r\n *\r\n * @see https://developer.wordpress.org/reference/functions/register_block_type/\r\n */\r\nfunction my_plugin_block_example_init() {\r\n\tregister_block_type( __DIR__ . '/build' );\r\n}\r\nadd_action( 'init', 'my_plugin_block_example_init' );\r\n\r\n```\r\n\r\n## 3. Add the block to the Navigation block\r\n`index.js`:\r\n\r\n```js\r\n\r\nimport { registerBlockType } from '@wordpress/blocks';\r\n\r\nimport './style.scss';\r\nimport './editor.scss';\r\n\r\nimport Edit from './edit';\r\nimport metadata from './block.json';\r\n\r\nregisterBlockType(metadata.name, {\r\n\tedit: Edit,\r\n\ticon: 'admin-site',\r\n});\r\n```\r\n\r\n```js\r\n/**\r\n * Make the Example Block available to Navigation blocks.\r\n *\r\n * @since 0.1.0\r\n *\r\n * @param {Object} blockSettings The original settings of the block.\r\n * @param {string} blockName     The name of the block being modified.\r\n * @return {Object} The modified settings for the Navigation block or the original settings for other blocks.\r\n */\r\nconst addToNavigation = ( blockSettings, blockName ) => {\r\n\tif ( blockName === 'core/navigation' ) {\r\n\t\treturn {\r\n\t\t\t...blockSettings,\r\n\t\t\tallowedBlocks: [\r\n\t\t\t\t...( blockSettings.allowedBlocks ?? [] ),\r\n\t\t\t\t'my-plugin/block-example', // Change this to the actual block name in block.json\r\n\t\t\t],\r\n\t\t};\r\n\t}\r\n\treturn blockSettings;\r\n};\r\naddFilter(\r\n\t'blocks.registerBlockType',\r\n\t'my-plugin-block-example-add-to-navigation', // Change this to a unique name for your filter.\r\n\taddToNavigation\r\n);\r\n\r\n```\r\n\r\n## Conclusion\r\n\r\nThe main file that allows us to insert a custom block inside the navigation block is `index.js`. This file is responsible for registering the block and adding the block to the navigation block. The `block.json` file is also important because it defines the block's metadata, including the parent block. Finally, the `my-plugin.php` file registers the block and its assets.\r\n";
				}
				function compiledContent() {
					return html;
				}
				function getHeadings() {
					return [{"depth":2,"slug":"introduction","text":"Introduction"},{"depth":2,"slug":"block-structure","text":"Block structure:"},{"depth":2,"slug":"1-configure-blockjson","text":"1. Configure block.json"},{"depth":2,"slug":"2-register-your-block","text":"2. Register your block"},{"depth":2,"slug":"3-add-the-block-to-the-navigation-block","text":"3. Add the block to the Navigation block"},{"depth":2,"slug":"conclusion","text":"Conclusion"}];
				}

				const Content = createComponent((result, _props, slots) => {
					const { layout, ...content } = frontmatter;
					content.file = file;
					content.url = url;

					return renderTemplate`${maybeRenderHead()}${unescapeHTML(html)}`;
				});

export { Content, compiledContent, Content as default, file, frontmatter, getHeadings, rawContent, url };
