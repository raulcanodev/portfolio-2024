---
import GitHub from "@/icons/GitHub.astro";
import { content } from "@content_en";

const projects = content.projects;
---

<section class="projects-section">
	<h2 class="text-xl font-bold mb-4">Projects</h2>
	<ul class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
		{
			projects.map(({ url, description, highlights, name, isActive, github }) => {
					return (
						<li class="project-item">
							<article class="project-article">
								<header class="flex items-center justify-between mb-4">
									<h3>
										<a
											href={url}
											target="_blank"
											title={`Ver el proyecto ${name}`}>
											{name}
										</a>
										{isActive && <span>•</span>}
									</h3>
									{github && (
										<a
											class="github-code-link"
											href={github}
											target="_blank"
											title={`Ver código fuente del proyecto ${name}`}>
											<GitHub />
										</a>
									)}
								</header>
								<p class="text-sm mb-4">{description}</p>
								<footer class="flex flex-wrap gap-2">
									{highlights.map((highlight) => {
										return (
											<span class="highlight">
												{highlight}
											</span>
										);
									})}
								</footer>
							</article>
						</li>
					);
				}
			)
		}
	</ul>
</section>

<style>
	section {
		margin-top: 5rem;
	}
	.project-item {
		border: 1px solid #f2f2f2;
		padding: 16px;
		display: flex;
		flex-direction: column;
		height: 100%;
	}

	.project-article {
		display: flex;
		flex-direction: column;
		height: 100%;
	}

	.project-article header {
		margin-bottom: 8px;
	}

	.project-article h3 {
		font-size: 1rem;
		display: flex;
		align-items: center;
		margin-bottom: 0;
	}

	.project-article h3 a {
		color: white;
		text-decoration: none;
		transition: color 0.3s ease;
	}

	.project-article h3 a:hover {
		color: rgb(0, 188, 47);
	}

	.project-article h3 span {
		color: rgb(0, 188, 47);
		margin-left: 5px;
	}

	.project-article p {
		font-size: 0.875rem;
		line-height: 1.25rem;
		margin-bottom: 8px;
	}

	.project-article footer {
		font-size: 0.75rem;
	}

	.highlight {
		background-color: #eee;
		/* border: 1px solid #ddd; */
		color: #444;
		font-weight: 500;
		padding: 2px 8px;
	}

	.github-code-link {
		margin-left: 5px;
	}

	/* Media query para ajustes en dispositivos móviles */
	@media (max-width: 700px) {
		.projects-section {
			padding: 0;
		}

		.project-item {
			border-top: none;
			border-left: none;
			border-right: none;
			padding-bottom: 16px;
		}
	}
</style>
