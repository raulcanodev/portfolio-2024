---
interface Props {
	id: string;
}

const { id } = Astro.props;
---

<script>
	let i = 0;
	const txt = "Loading...";
	const speed = 60; // Speed of typing

	function typeWriter() {
		const labelElement = document.getElementById("PageLoader");
		if (labelElement) {
			// Check if the element exists
			if (i < txt.length) {
				labelElement.innerHTML += txt.charAt(i);
				i++;
				setTimeout(typeWriter, speed);
			}
		}
	}

	document.addEventListener("DOMContentLoaded", () => {
		typeWriter();
	});
</script>

<div id={id} class="loader dark:bg-black bg-white">
	<div>
		<p id="PageLoader" class="dark:text-green-500 text-green-600"></p>
	</div>
</div>

<style>
	.loader {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		display: flex;
		justify-content: center;
		align-items: center;
		z-index: 9999;
	}
</style>
